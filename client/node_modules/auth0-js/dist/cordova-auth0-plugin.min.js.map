{"version":3,"file":"cordova-auth0-plugin.min.js","sources":["../src/version.js","../src/helper/assert.js","../src/helper/object-assign.js","../src/helper/object.js","../src/helper/window.js","../node_modules/url-join/lib/url-join.js","../node_modules/qs/lib/utils.js","../node_modules/qs/lib/formats.js","../node_modules/qs/lib/stringify.js","../node_modules/qs/lib/parse.js","../plugins/cordova/popup-handler.js","../plugins/cordova/plugin-handler.js","../plugins/cordova/index.js"],"sourcesContent":["module.exports = { raw: '9.7.3' };\n","var toString = Object.prototype.toString;\n\nfunction attribute(o, attr, type, text) {\n  type = type === 'array' ? 'object' : type;\n  if (o && typeof o[attr] !== type) {\n    throw new Error(text);\n  }\n}\n\nfunction variable(o, type, text) {\n  if (typeof o !== type) {\n    throw new Error(text);\n  }\n}\n\nfunction value(o, values, text) {\n  if (values.indexOf(o) === -1) {\n    throw new Error(text);\n  }\n}\n\nfunction check(o, config, attributes) {\n  if (!config.optional || o) {\n    variable(o, config.type, config.message);\n  }\n  if (config.type === 'object' && attributes) {\n    var keys = Object.keys(attributes);\n\n    for (var index = 0; index < keys.length; index++) {\n      var a = keys[index];\n      if (!attributes[a].optional || o[a]) {\n        if (!attributes[a].condition || attributes[a].condition(o)) {\n          attribute(o, a, attributes[a].type, attributes[a].message);\n          if (attributes[a].values) {\n            value(o[a], attributes[a].values, attributes[a].value_message);\n          }\n        }\n      }\n    }\n  }\n}\n\n/**\n * Wrap `Array.isArray` Polyfill for IE9\n * source: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/isArray\n *\n * @param {Array} array\n * @private\n */\nfunction isArray(array) {\n  if (this.supportsIsArray()) {\n    return Array.isArray(array);\n  }\n\n  return toString.call(array) === '[object Array]';\n}\n\nfunction supportsIsArray() {\n  return Array.isArray != null;\n}\n\nexport default {\n  check: check,\n  attribute: attribute,\n  variable: variable,\n  value: value,\n  isArray: isArray,\n  supportsIsArray: supportsIsArray\n};\n","/* eslint-disable no-continue */\n\nfunction get() {\n  if (!Object.assign) {\n    return objectAssignPolyfill;\n  }\n\n  return Object.assign;\n}\n\nfunction objectAssignPolyfill(target) {\n  if (target === undefined || target === null) {\n    throw new TypeError('Cannot convert first argument to object');\n  }\n\n  var to = Object(target);\n  for (var i = 1; i < arguments.length; i++) {\n    var nextSource = arguments[i];\n    if (nextSource === undefined || nextSource === null) {\n      continue;\n    }\n\n    var keysArray = Object.keys(Object(nextSource));\n    for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\n      var nextKey = keysArray[nextIndex];\n      var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\n      if (desc !== undefined && desc.enumerable) {\n        to[nextKey] = nextSource[nextKey];\n      }\n    }\n  }\n  return to;\n}\n\nexport default {\n  get: get,\n  objectAssignPolyfill: objectAssignPolyfill\n};\n","/* eslint-disable no-param-reassign */\n/* eslint-disable no-restricted-syntax */\n/* eslint-disable guard-for-in */\n\nimport assert from './assert';\nimport objectAssign from './object-assign';\n\nfunction pick(object, keys) {\n  return keys.reduce(function(prev, key) {\n    if (object[key]) {\n      prev[key] = object[key];\n    }\n    return prev;\n  }, {});\n}\n\nfunction getKeysNotIn(obj, allowedKeys) {\n  var notAllowed = [];\n  for (var key in obj) {\n    if (allowedKeys.indexOf(key) === -1) {\n      notAllowed.push(key);\n    }\n  }\n  return notAllowed;\n}\n\nfunction objectValues(obj) {\n  var values = [];\n  for (var key in obj) {\n    values.push(obj[key]);\n  }\n  return values;\n}\n\nfunction extend() {\n  var params = objectValues(arguments);\n  params.unshift({});\n  return objectAssign.get().apply(undefined, params);\n}\n\nfunction merge(object, keys) {\n  return {\n    base: keys ? pick(object, keys) : object,\n    with: function(object2, keys2) {\n      object2 = keys2 ? pick(object2, keys2) : object2;\n      return extend(this.base, object2);\n    }\n  };\n}\n\nfunction blacklist(object, blacklistedKeys) {\n  return Object.keys(object).reduce(function(p, key) {\n    if (blacklistedKeys.indexOf(key) === -1) {\n      p[key] = object[key];\n    }\n    return p;\n  }, {});\n}\n\nfunction camelToSnake(str) {\n  var newKey = '';\n  var index = 0;\n  var code;\n  var wasPrevNumber = true;\n  var wasPrevUppercase = true;\n\n  while (index < str.length) {\n    code = str.charCodeAt(index);\n    if (\n      (!wasPrevUppercase && code >= 65 && code <= 90) ||\n      (!wasPrevNumber && code >= 48 && code <= 57)\n    ) {\n      newKey += '_';\n      newKey += str[index].toLowerCase();\n    } else {\n      newKey += str[index].toLowerCase();\n    }\n    wasPrevNumber = code >= 48 && code <= 57;\n    wasPrevUppercase = code >= 65 && code <= 90;\n    index++;\n  }\n\n  return newKey;\n}\n\nfunction snakeToCamel(str) {\n  var parts = str.split('_');\n  return parts.reduce(function(p, c) {\n    return p + c.charAt(0).toUpperCase() + c.slice(1);\n  }, parts.shift());\n}\n\nfunction toSnakeCase(object, exceptions) {\n  if (typeof object !== 'object' || assert.isArray(object) || object === null) {\n    return object;\n  }\n  exceptions = exceptions || [];\n\n  return Object.keys(object).reduce(function(p, key) {\n    var newKey = exceptions.indexOf(key) === -1 ? camelToSnake(key) : key;\n    p[newKey] = toSnakeCase(object[key]);\n    return p;\n  }, {});\n}\n\nfunction toCamelCase(object, exceptions) {\n  if (typeof object !== 'object' || assert.isArray(object) || object === null) {\n    return object;\n  }\n\n  exceptions = exceptions || [];\n\n  return Object.keys(object).reduce(function(p, key) {\n    var newKey = exceptions.indexOf(key) === -1 ? snakeToCamel(key) : key;\n    p[newKey] = toCamelCase(object[key]);\n    return p;\n  }, {});\n}\n\nfunction getLocationFromUrl(href) {\n  var match = href.match(\n    /^(https?:)\\/\\/(([^:/?#]*)(?::([0-9]+))?)([/]{0,1}[^?#]*)(\\?[^#]*|)(#.*|)$/\n  );\n  return (\n    match && {\n      href: href,\n      protocol: match[1],\n      host: match[2],\n      hostname: match[3],\n      port: match[4],\n      pathname: match[5],\n      search: match[6],\n      hash: match[7]\n    }\n  );\n}\n\nfunction getOriginFromUrl(url) {\n  if (!url) {\n    return undefined;\n  }\n  var parsed = getLocationFromUrl(url);\n  var origin = parsed.protocol + '//' + parsed.hostname;\n  if (parsed.port) {\n    origin += ':' + parsed.port;\n  }\n  return origin;\n}\n\nexport default {\n  toSnakeCase: toSnakeCase,\n  toCamelCase: toCamelCase,\n  blacklist: blacklist,\n  merge: merge,\n  pick: pick,\n  getKeysNotIn: getKeysNotIn,\n  extend: extend,\n  getOriginFromUrl: getOriginFromUrl,\n  getLocationFromUrl: getLocationFromUrl\n};\n","import objectHelper from './object';\n\nfunction redirect(url) {\n  getWindow().location = url;\n}\n\nfunction getDocument() {\n  return getWindow().document;\n}\n\nfunction getWindow() {\n  return window;\n}\n\nfunction getOrigin() {\n  var location = getWindow().location;\n  var origin = location.origin;\n\n  if (!origin) {\n    origin = objectHelper.getOriginFromUrl(location.href);\n  }\n\n  return origin;\n}\n\nexport default {\n  redirect: redirect,\n  getDocument: getDocument,\n  getWindow: getWindow,\n  getOrigin: getOrigin\n};\n","(function (name, context, definition) {\n  if (typeof module !== 'undefined' && module.exports) module.exports = definition();\n  else if (typeof define === 'function' && define.amd) define(definition);\n  else context[name] = definition();\n})('urljoin', this, function () {\n\n  function normalize (str, options) {\n\n    // make sure protocol is followed by two slashes\n    str = str.replace(/:\\//g, '://');\n\n    // remove consecutive slashes\n    str = str.replace(/([^:\\s])\\/+/g, '$1/');\n\n    // remove trailing slash before parameters or hash\n    str = str.replace(/\\/(\\?|&|#[^!])/g, '$1');\n\n    // replace ? in parameters with &\n    str = str.replace(/(\\?.+)\\?/g, '$1&');\n\n    return str;\n  }\n\n  return function () {\n    var input = arguments;\n    var options = {};\n\n    if (typeof arguments[0] === 'object') {\n      // new syntax with array and options\n      input = arguments[0];\n      options = arguments[1] || {};\n    }\n\n    var joined = [].slice.call(input, 0).join('/');\n    return normalize(joined, options);\n  };\n\n});\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nexports.arrayToObject = function (source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nexports.merge = function (target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        } else if (typeof target === 'object') {\n            if (options.plainObjects || options.allowPrototypes || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (Array.isArray(target) && !Array.isArray(source)) {\n        mergeTarget = exports.arrayToObject(target, options);\n    }\n\n    if (Array.isArray(target) && Array.isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                if (target[i] && typeof target[i] === 'object') {\n                    target[i] = exports.merge(target[i], item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (Object.prototype.hasOwnProperty.call(acc, key)) {\n            acc[key] = exports.merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nexports.decode = function (str) {\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nexports.encode = function (str) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D || // -\n            c === 0x2E || // .\n            c === 0x5F || // _\n            c === 0x7E || // ~\n            (c >= 0x30 && c <= 0x39) || // 0-9\n            (c >= 0x41 && c <= 0x5A) || // a-z\n            (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)] + hexTable[0x80 | ((c >> 12) & 0x3F)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]; // eslint-disable-line max-len\n    }\n\n    return out;\n};\n\nexports.compact = function (obj, references) {\n    if (typeof obj !== 'object' || obj === null) {\n        return obj;\n    }\n\n    var refs = references || [];\n    var lookup = refs.indexOf(obj);\n    if (lookup !== -1) {\n        return refs[lookup];\n    }\n\n    refs.push(obj);\n\n    if (Array.isArray(obj)) {\n        var compacted = [];\n\n        for (var i = 0; i < obj.length; ++i) {\n            if (obj[i] && typeof obj[i] === 'object') {\n                compacted.push(exports.compact(obj[i], refs));\n            } else if (typeof obj[i] !== 'undefined') {\n                compacted.push(obj[i]);\n            }\n        }\n\n        return compacted;\n    }\n\n    var keys = Object.keys(obj);\n    keys.forEach(function (key) {\n        obj[key] = exports.compact(obj[key], refs);\n    });\n\n    return obj;\n};\n\nexports.isRegExp = function (obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nexports.isBuffer = function (obj) {\n    if (obj === null || typeof obj === 'undefined') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nmodule.exports = {\n    'default': 'RFC3986',\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return value;\n        }\n    },\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) { // eslint-disable-line func-name-matching\n        return prefix + '[]';\n    },\n    indices: function indices(prefix, key) { // eslint-disable-line func-name-matching\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) { // eslint-disable-line func-name-matching\n        return prefix;\n    }\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaults = {\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    serializeDate: function serializeDate(date) { // eslint-disable-line func-name-matching\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar stringify = function stringify( // eslint-disable-line func-name-matching\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(stringify(\n                obj[key],\n                generateArrayPrefix(prefix, key),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        } else {\n            values = values.concat(stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts || {};\n\n    if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n    var encoder = typeof options.encoder === 'function' ? options.encoder : defaults.encoder;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n    var serializeDate = typeof options.serializeDate === 'function' ? options.serializeDate : defaults.serializeDate;\n    var encodeValuesOnly = typeof options.encodeValuesOnly === 'boolean' ? options.encodeValuesOnly : defaults.encodeValuesOnly;\n    if (typeof options.format === 'undefined') {\n        options.format = formats.default;\n    } else if (!Object.prototype.hasOwnProperty.call(formats.formatters, options.format)) {\n        throw new TypeError('Unknown format option provided.');\n    }\n    var formatter = formats.formatters[options.format];\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        keys = keys.concat(stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encode ? encoder : null,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter,\n            encodeValuesOnly\n        ));\n    }\n\n    return keys.join(delimiter);\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    parameterLimit: 1000,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var parts = str.split(options.delimiter, options.parameterLimit === Infinity ? undefined : options.parameterLimit);\n\n    for (var i = 0; i < parts.length; ++i) {\n        var part = parts[i];\n        var pos = part.indexOf(']=') === -1 ? part.indexOf('=') : part.indexOf(']=') + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part);\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos));\n            val = options.decoder(part.slice(pos + 1));\n        }\n        if (has.call(obj, key)) {\n            obj[key] = [].concat(obj[key]).concat(val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function parseObjectRecursive(chain, val, options) {\n    if (!chain.length) {\n        return val;\n    }\n\n    var root = chain.shift();\n\n    var obj;\n    if (root === '[]') {\n        obj = [];\n        obj = obj.concat(parseObject(chain, val, options));\n    } else {\n        obj = options.plainObjects ? Object.create(null) : {};\n        var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n        var index = parseInt(cleanRoot, 10);\n        if (\n            !isNaN(index) &&\n            root !== cleanRoot &&\n            String(index) === cleanRoot &&\n            index >= 0 &&\n            (options.parseArrays && index <= options.arrayLimit)\n        ) {\n            obj = [];\n            obj[index] = parseObject(chain, val, options);\n        } else {\n            obj[cleanRoot] = parseObject(chain, val, options);\n        }\n    }\n\n    return obj;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nmodule.exports = function (str, opts) {\n    var options = opts || {};\n\n    if (options.decoder !== null && options.decoder !== undefined && typeof options.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    options.delimiter = typeof options.delimiter === 'string' || utils.isRegExp(options.delimiter) ? options.delimiter : defaults.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : defaults.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : defaults.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.decoder = typeof options.decoder === 'function' ? options.decoder : defaults.decoder;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : defaults.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : defaults.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : defaults.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : defaults.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","import windowHandler from '../../src/helper/window';\nimport qs from 'qs';\nimport urljoin from 'url-join';\n\nfunction PopupHandler(webAuth) {\n  this.webAuth = webAuth;\n  this._current_popup = null;\n  this.options = null;\n}\n\nPopupHandler.prototype.preload = function(options) {\n  var _this = this;\n  var _window = windowHandler.getWindow();\n\n  var url = options.url || 'about:blank';\n  var popupOptions = options.popupOptions || {};\n\n  popupOptions.location = 'yes';\n  delete popupOptions.width;\n  delete popupOptions.height;\n\n  var windowFeatures = qs.stringify(popupOptions, {\n    encode: false,\n    delimiter: ','\n  });\n\n  if (this._current_popup && !this._current_popup.closed) {\n    return this._current_popup;\n  }\n\n  this._current_popup = _window.open(url, '_blank', windowFeatures);\n\n  this._current_popup.kill = function(success) {\n    _this._current_popup.success = success;\n    this.close();\n    _this._current_popup = null;\n  };\n\n  return this._current_popup;\n};\n\nPopupHandler.prototype.load = function(url, _, options, cb) {\n  var _this = this;\n  this.url = url;\n  this.options = options;\n  if (!this._current_popup) {\n    options.url = url;\n    this.preload(options);\n  } else {\n    this._current_popup.location.href = url;\n  }\n\n  this.transientErrorHandler = function(event) {\n    _this.errorHandler(event, cb);\n  };\n\n  this.transientStartHandler = function(event) {\n    _this.startHandler(event, cb);\n  };\n\n  this.transientExitHandler = function() {\n    _this.exitHandler(cb);\n  };\n\n  this._current_popup.addEventListener('loaderror', this.transientErrorHandler);\n  this._current_popup.addEventListener('loadstart', this.transientStartHandler);\n  this._current_popup.addEventListener('exit', this.transientExitHandler);\n};\n\nPopupHandler.prototype.errorHandler = function(event, cb) {\n  if (!this._current_popup) {\n    return;\n  }\n\n  this._current_popup.kill(true);\n\n  cb({ error: 'window_error', errorDescription: event.message });\n};\n\nPopupHandler.prototype.unhook = function() {\n  this._current_popup.removeEventListener('loaderror', this.transientErrorHandler);\n  this._current_popup.removeEventListener('loadstart', this.transientStartHandler);\n  this._current_popup.removeEventListener('exit', this.transientExitHandler);\n};\n\nPopupHandler.prototype.exitHandler = function(cb) {\n  if (!this._current_popup) {\n    return;\n  }\n\n  // when the modal is closed, this event is called which ends up removing the\n  // event listeners. If you move this before closing the modal, it will add ~1 sec\n  // delay between the user being redirected to the callback and the popup gets closed.\n  this.unhook();\n\n  if (!this._current_popup.success) {\n    cb({ error: 'window_closed', errorDescription: 'Browser window closed' });\n  }\n};\n\nPopupHandler.prototype.startHandler = function(event, cb) {\n  var _this = this;\n\n  if (!this._current_popup) {\n    return;\n  }\n\n  var callbackUrl = urljoin('https:', this.webAuth.baseOptions.domain, '/mobile');\n\n  if (event.url && !(event.url.indexOf(callbackUrl + '#') === 0)) {\n    return;\n  }\n\n  var parts = event.url.split('#');\n\n  if (parts.length === 1) {\n    return;\n  }\n\n  var opts = { hash: parts.pop() };\n\n  if (this.options.nonce) {\n    opts.nonce = this.options.nonce;\n  }\n\n  this.webAuth.parseHash(opts, function(error, result) {\n    if (error || result) {\n      _this._current_popup.kill(true);\n      cb(error, result);\n    }\n  });\n};\n\nexport default PopupHandler;\n","import urljoin from 'url-join';\nimport PopupHandler from './popup-handler';\n\nfunction PluginHandler(webAuth) {\n  this.webAuth = webAuth;\n}\n\nPluginHandler.prototype.processParams = function (params) {\n  params.redirectUri = urljoin('https://' + params.domain, 'mobile');\n  delete params.owp;\n  return params;\n};\n\nPluginHandler.prototype.getPopupHandler = function () {\n  return new PopupHandler(this.webAuth);\n};\n\nexport default PluginHandler;\n","import version from '../../src/version';\nimport windowHandler from '../../src/helper/window';\nimport PluginHandler from './plugin-handler';\n\nfunction CordovaPlugin() {\n  this.webAuth = null;\n  this.version = version.raw;\n  this.extensibilityPoints = ['popup.authorize', 'popup.getPopupHandler'];\n}\n\nCordovaPlugin.prototype.setWebAuth = function(webAuth) {\n  this.webAuth = webAuth;\n};\n\nCordovaPlugin.prototype.supports = function(extensibilityPoint) {\n  var _window = windowHandler.getWindow();\n  return (\n    (!!_window.cordova || !!_window.electron) &&\n    this.extensibilityPoints.indexOf(extensibilityPoint) > -1\n  );\n};\n\nCordovaPlugin.prototype.init = function() {\n  return new PluginHandler(this.webAuth);\n};\n\nexport default CordovaPlugin;\n"],"names":["raw","toString","Object","prototype","attribute","o","attr","type","text","Error","variable","value","values","indexOf","check","config","attributes","optional","message","keys","index","length","a","condition","value_message","isArray","array","this","supportsIsArray","Array","call","objectAssignPolyfill","target","TypeError","to","i","arguments","nextSource","keysArray","nextIndex","len","nextKey","desc","getOwnPropertyDescriptor","undefined","enumerable","get","assign","pick","object","reduce","prev","key","extend","params","obj","push","objectValues","unshift","objectAssign","apply","getLocationFromUrl","href","match","protocol","host","hostname","port","pathname","search","hash","toSnakeCase","exceptions","assert","p","str","code","newKey","wasPrevNumber","wasPrevUppercase","charCodeAt","toLowerCase","camelToSnake","toCamelCase","parts","split","c","charAt","toUpperCase","slice","shift","blacklist","blacklistedKeys","merge","base","with","object2","keys2","getKeysNotIn","allowedKeys","notAllowed","getOriginFromUrl","url","parsed","origin","getWindow","window","redirect","location","getDocument","document","getOrigin","objectHelper","context","definition","input","joined","join","replace","module","exports","has","hasOwnProperty","hexTable","source","options","plainObjects","create","allowPrototypes","concat","mergeTarget","arrayToObject","forEach","item","acc","decodeURIComponent","e","string","String","out","references","refs","lookup","compacted","compact","constructor","isBuffer","percentTwenties","default","formatters","RFC1738","RFC3986","arrayPrefixGenerators","brackets","prefix","indices","repeat","toISO","Date","toISOString","defaults","delimiter","encode","encoder","utils","encodeValuesOnly","serializeDate","date","skipNulls","strictNullHandling","stringify","generateArrayPrefix","filter","sort","allowDots","formatter","objKeys","decode","opts","format","formats","arrayFormat","PopupHandler","webAuth","_current_popup","PluginHandler","CordovaPlugin","version","extensibilityPoints","preload","_this","_window","windowHandler","popupOptions","width","height","windowFeatures","qs","closed","open","kill","success","close","load","_","cb","transientErrorHandler","event","errorHandler","transientStartHandler","startHandler","transientExitHandler","exitHandler","addEventListener","error","errorDescription","unhook","removeEventListener","callbackUrl","urljoin","baseOptions","domain","pop","nonce","parseHash","result","processParams","redirectUri","owp","getPopupHandler","setWebAuth","supports","extensibilityPoint","cordova","electron","init"],"mappings":"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"}